# å¸¸è§é—®é¢˜ FAQ

> æ”¶é›†æ•´ç†ç”¨æˆ·é«˜é¢‘é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼Œå…±29ä¸ªé—®é¢˜

## ğŸ“‘ é—®é¢˜å¯¼èˆª

### å®‰è£…éƒ¨ç½²
- [Q1: å®‰è£…é¡µé¢æ˜¾ç¤º 404ï¼Ÿ](#q1-å®‰è£…é¡µé¢æ˜¾ç¤º-404)
- [Q2: Composer install å¾ˆæ…¢æˆ–å¤±è´¥ï¼Ÿ](#q2-composer-install-å¾ˆæ…¢æˆ–å¤±è´¥)
- [Q3: æƒé™é”™è¯¯ Permission deniedï¼Ÿ](#q3-æƒé™é”™è¯¯-permission-denied)
- [Q4: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ](#q4-æ•°æ®åº“è¿æ¥å¤±è´¥)

### åŠŸèƒ½ä½¿ç”¨
- [Q5: é˜Ÿåˆ—ä»»åŠ¡ä¸æ‰§è¡Œï¼Ÿ](#q5-é˜Ÿåˆ—ä»»åŠ¡ä¸æ‰§è¡Œ)
- [Q6: é‚®ä»¶å‘é€å¤±è´¥ï¼Ÿ](#q6-é‚®ä»¶å‘é€å¤±è´¥)
- [Q7: æ”¯ä»˜å›è°ƒå¤±è´¥ï¼Ÿ](#q7-æ”¯ä»˜å›è°ƒå¤±è´¥)
- [Q8: å¡å¯†ä¸è‡ªåŠ¨å‘è´§ï¼Ÿ](#q8-å¡å¯†ä¸è‡ªåŠ¨å‘è´§)

### å®‰å…¨ç›¸å…³
- [Q9: å¦‚ä½•ä¿®æ”¹åå°è·¯å¾„ï¼Ÿ](#q9-å¦‚ä½•ä¿®æ”¹åå°è·¯å¾„)
- [Q10: å¦‚ä½•é™åˆ¶åå°è®¿é—® IPï¼Ÿ](#q10-å¦‚ä½•é™åˆ¶åå°è®¿é—®-ip)
- [Q11: å¦‚ä½•é˜²æ­¢è®¢å•å·è¢«æšä¸¾ï¼Ÿ](#q11-å¦‚ä½•é˜²æ­¢è®¢å•å·è¢«æšä¸¾)
- [Q12: å¦‚ä½•æŸ¥çœ‹å®‰å…¨æ—¥å¿—ï¼Ÿ](#q12-å¦‚ä½•æŸ¥çœ‹å®‰å…¨æ—¥å¿—)

### æ€§èƒ½ä¼˜åŒ–
- [Q13: ç½‘ç«™è®¿é—®å¾ˆæ…¢ï¼Ÿ](#q13-ç½‘ç«™è®¿é—®å¾ˆæ…¢)
- [Q14: æ•°æ®åº“æŸ¥è¯¢æ…¢ï¼Ÿ](#q14-æ•°æ®åº“æŸ¥è¯¢æ…¢)

### å‡çº§æ›´æ–°
- [Q15: å¦‚ä½•å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Ÿ](#q15-å¦‚ä½•å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬)
- [Q16: å‡çº§åå‡ºç°é”™è¯¯ï¼Ÿ](#q16-å‡çº§åå‡ºç°é”™è¯¯)

### å…¶ä»–é—®é¢˜
- [Q17: å¦‚ä½•æ›´æ¢åŸŸåï¼Ÿ](#q17-å¦‚ä½•æ›´æ¢åŸŸå)
- [Q18: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ](#q18-å¦‚ä½•å¤‡ä»½æ•°æ®)
- [Q19: å¦‚ä½•è¿ç§»åˆ°æ–°æœåŠ¡å™¨ï¼Ÿ](#q19-å¦‚ä½•è¿ç§»åˆ°æ–°æœåŠ¡å™¨)

### å®˜æ–¹å¸¸è§é—®é¢˜
- [Q20: PHP ç»ˆç«¯ç¯å¢ƒå¯¹åº”ä¸ä¸Šï¼Ÿ](#q20-php-ç»ˆç«¯ç¯å¢ƒå¯¹åº”ä¸ä¸Š)
- [Q21: åå°ç™»å½•å‡ºç° 0 errï¼Ÿ](#q21-åå°ç™»å½•å‡ºç°-0-err)
- [Q22: åå°æ“ä½œæäº¤å‡ºç° 500 é”™è¯¯ï¼Ÿ](#q22-åå°æ“ä½œæäº¤å‡ºç°-500-é”™è¯¯)
- [Q23: ä¸Šä¼ å›¾ç‰‡ä¸æ˜¾ç¤ºæˆ–æ˜¾ç¤ºé”™è¯¯ï¼Ÿ](#q23-ä¸Šä¼ å›¾ç‰‡ä¸æ˜¾ç¤ºæˆ–æ˜¾ç¤ºé”™è¯¯)
- [Q24: é‚®ä»¶é…ç½®ä¿®æ”¹åä¸ç”Ÿæ•ˆï¼Ÿ](#q24-é‚®ä»¶é…ç½®ä¿®æ”¹åä¸ç”Ÿæ•ˆ)
- [Q25: æ˜“æ”¯ä»˜é…ç½®é—®é¢˜ï¼Ÿ](#q25-æ˜“æ”¯ä»˜é…ç½®é—®é¢˜)
- [Q26: å¼ºåˆ¶ HTTPS åæŠ¥é”™ï¼Ÿ](#q26-å¼ºåˆ¶-https-åæŠ¥é”™)
- [Q27: å¦‚ä½•æ›´æ¢å‰ç«¯æ¨¡æ¿ï¼Ÿ](#q27-å¦‚ä½•æ›´æ¢å‰ç«¯æ¨¡æ¿)
- [Q28: å„æ”¯ä»˜æ¥å£é…ç½®å¯¹ç…§è¡¨](#q28-å„æ”¯ä»˜æ¥å£é…ç½®å¯¹ç…§è¡¨)
- [Q29: å¦‚ä½•è”ç³»æŠ€æœ¯æ”¯æŒï¼Ÿ](#q29-å¦‚ä½•è”ç³»æŠ€æœ¯æ”¯æŒ)

---

## å®‰è£…éƒ¨ç½²

### Q1: å®‰è£…é¡µé¢æ˜¾ç¤º 404ï¼Ÿ

**åŸå› **ï¼š
- è¿è¡Œç›®å½•æœªè®¾ç½®ä¸º `/public`
- ä¼ªé™æ€æœªé…ç½®
- Nginx/Apache é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š

å®å¡”é¢æ¿ï¼š
1. ç½‘ç«™è®¾ç½® â†’ ç½‘ç«™ç›®å½• â†’ è¿è¡Œç›®å½•é€‰æ‹© `/public`
2. ç½‘ç«™è®¾ç½® â†’ ä¼ªé™æ€ â†’ é€‰æ‹© `Laravel 5`

æ‰‹åŠ¨é…ç½® Nginxï¼š
```nginx
location / {
    try_files $uri $uri/ /index.php?$query_string;
}
```

### Q2: Composer install å¾ˆæ…¢æˆ–å¤±è´¥ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š

ä½¿ç”¨å›½å†…é•œåƒï¼š
```bash
composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
composer install
```

æˆ–ä½¿ç”¨è…¾è®¯äº‘é•œåƒï¼š
```bash
composer config -g repo.packagist composer https://mirrors.cloud.tencent.com/composer/
```

### Q3: æƒé™é”™è¯¯ Permission deniedï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
cd /www/wwwroot/dujiaoka
chmod -R 755 ./
chown -R www:www ./
chmod -R 777 storage
chmod -R 777 bootstrap/cache
```

### Q4: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ

**æ£€æŸ¥é¡¹**ï¼š
1. æ•°æ®åº“æ˜¯å¦åˆ›å»º
2. `.env` ä¸­æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
3. æ•°æ®åº“ç”¨æˆ·æƒé™æ˜¯å¦æ­£ç¡®
4. MySQL æ˜¯å¦å¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -h 127.0.0.1 -u dujiaoka -p

# æ£€æŸ¥ MySQL çŠ¶æ€
systemctl status mysql
```

## åŠŸèƒ½ä½¿ç”¨

### Q5: é˜Ÿåˆ—ä»»åŠ¡ä¸æ‰§è¡Œï¼Ÿ

**åŸå› **ï¼š
- é˜Ÿåˆ—è¿›ç¨‹æœªå¯åŠ¨
- Redis æœªå®‰è£…æˆ–æœªå¯åŠ¨
- Supervisor é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š

æ£€æŸ¥é˜Ÿåˆ—è¿›ç¨‹ï¼š
```bash
ps aux | grep queue:work
```

æ‰‹åŠ¨å¯åŠ¨é˜Ÿåˆ—ï¼š
```bash
cd /www/wwwroot/dujiaoka
php artisan queue:work
```

é…ç½® Supervisorï¼ˆæ¨èï¼‰ï¼š
```ini
[program:dujiaoka-queue]
command=php /www/wwwroot/dujiaoka/artisan queue:work --sleep=3 --tries=3
autostart=true
autorestart=true
user=www
```

### Q6: é‚®ä»¶å‘é€å¤±è´¥ï¼Ÿ

**å¸¸è§åŸå› **ï¼š
1. SMTP é…ç½®é”™è¯¯
2. SMTP æœåŠ¡æœªå¼€å¯
3. é˜²ç«å¢™æ‹¦æˆª
4. é‚®ç®±å¯†ç é”™è¯¯ï¼ˆéœ€è¦æˆæƒç ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š

æµ‹è¯•é‚®ä»¶é…ç½®ï¼š
- åå° â†’ é…ç½® â†’ Email Test
- å‘é€æµ‹è¯•é‚®ä»¶

å¸¸ç”¨é‚®ç®±é…ç½®ï¼š

**QQ é‚®ç®±**ï¼š
```
SMTP: smtp.qq.com
ç«¯å£: 465 æˆ– 587
åŠ å¯†: SSL
å¯†ç : æˆæƒç ï¼ˆä¸æ˜¯QQå¯†ç ï¼‰
```

**163 é‚®ç®±**ï¼š
```
SMTP: smtp.163.com
ç«¯å£: 465 æˆ– 994
åŠ å¯†: SSL
å¯†ç : æˆæƒç 
```

### Q7: æ”¯ä»˜å›è°ƒå¤±è´¥ï¼Ÿ

**æ£€æŸ¥é¡¹**ï¼š
1. æ”¯ä»˜é…ç½®æ˜¯å¦æ­£ç¡®
2. å›è°ƒåœ°å€æ˜¯å¦å¯è®¿é—®
3. æ˜¯å¦å¼€å¯ HTTPSï¼ˆéƒ¨åˆ†æ”¯ä»˜è¦æ±‚ï¼‰
4. é˜²ç«å¢™æ˜¯å¦å¼€æ”¾ç«¯å£

**è§£å†³æ–¹æ¡ˆ**ï¼š

æŸ¥çœ‹æ”¯ä»˜æ—¥å¿—ï¼š
- åå° â†’ é…ç½® â†’ Security_Log
- ç­›é€‰æ”¯ä»˜è¯·æ±‚ç±»å‹

æµ‹è¯•å›è°ƒåœ°å€ï¼š
```bash
curl https://ä½ çš„åŸŸå/pay/alipay/notify_url
```

### Q8: å¡å¯†ä¸è‡ªåŠ¨å‘è´§ï¼Ÿ

**åŸå› **ï¼š
- å¡å¯†åº“å­˜ä¸è¶³
- å•†å“ç±»å‹è®¾ç½®é”™è¯¯
- é˜Ÿåˆ—æœªæ‰§è¡Œ

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. æ£€æŸ¥å¡å¯†åº“å­˜ï¼š
   - åå° â†’ å¡å¯†ç®¡ç† â†’ æŸ¥çœ‹æœªå”®å‡ºå¡å¯†æ•°é‡

2. æ£€æŸ¥å•†å“è®¾ç½®ï¼š
   - å•†å“ç±»å‹å¿…é¡»æ˜¯"è‡ªåŠ¨å‘è´§"
   - å…³è”çš„å¡å¯†å¿…é¡»å­˜åœ¨

3. æ£€æŸ¥é˜Ÿåˆ—ï¼š
   ```bash
   php artisan queue:work
   ```

## å®‰å…¨ç›¸å…³

### Q9: å¦‚ä½•ä¿®æ”¹åå°è·¯å¾„ï¼Ÿ

**æ–¹æ³•ä¸€**ï¼šä¿®æ”¹ `.env` æ–‡ä»¶

```env
ADMIN_ROUTE_PREFIX=/ä½ çš„è‡ªå®šä¹‰è·¯å¾„
```

**æ–¹æ³•äºŒ**ï¼šä¿®æ”¹ `config/admin.php`

```php
'route' => [
    'prefix' => env('ADMIN_ROUTE_PREFIX', 'admin'),
],
```

æ¸…ç†ç¼“å­˜ï¼š
```bash
php artisan config:clear
php artisan cache:clear
```

### Q10: å¦‚ä½•é™åˆ¶åå°è®¿é—® IPï¼Ÿ

**Nginx é…ç½®**ï¼š

```nginx
location /admin {
    allow 1.2.3.4;      # å…è®¸çš„IP
    allow 5.6.7.0/24;   # å…è®¸çš„IPæ®µ
    deny all;           # æ‹’ç»å…¶ä»–
    
    try_files $uri $uri/ /index.php?$query_string;
}
```

**å®å¡”é¢æ¿**ï¼š
- ç½‘ç«™è®¾ç½® â†’ è®¿é—®é™åˆ¶ â†’ æ·»åŠ è§„åˆ™

### Q11: å¦‚ä½•é˜²æ­¢è®¢å•å·è¢«æšä¸¾ï¼Ÿ

**å·²å†…ç½®é˜²æŠ¤**ï¼ˆv2.0.5+ï¼‰ï¼š
- è®¢å•æŸ¥è¯¢é™æµï¼ˆé»˜è®¤10æ¬¡/åˆ†é’Ÿï¼‰
- è®¢å•å·æ ¼å¼éªŒè¯
- å¯ç–‘è¯·æ±‚æ—¥å¿—è®°å½•

**é…ç½®é™æµ**ï¼š
- åå° â†’ é…ç½® â†’ ç³»ç»Ÿè®¾ç½® â†’ å®‰å…¨è®¾ç½®

### Q12: å¦‚ä½•æŸ¥çœ‹å®‰å…¨æ—¥å¿—ï¼Ÿ

**æŸ¥çœ‹è·¯å¾„**ï¼š
- åå° â†’ é…ç½® â†’ Security_Log

**æ—¥å¿—ç±»å‹**ï¼š
- æ”¯ä»˜è¯·æ±‚ï¼šæ‰€æœ‰æ”¯ä»˜ç›¸å…³è¯·æ±‚
- å¯ç–‘è¯·æ±‚ï¼šæ ¼å¼é”™è¯¯ã€å¼‚å¸¸è®¿é—®ç­‰

**æ—¥å¿—ç®¡ç†**ï¼š
- æ”¯æŒç­›é€‰ã€å¯¼å‡º
- è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ—¥å¿—
- å¯é…ç½®ä¿ç•™å¤©æ•°

## æ€§èƒ½ä¼˜åŒ–

### Q13: ç½‘ç«™è®¿é—®å¾ˆæ…¢ï¼Ÿ

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š

1. å¯ç”¨ OPcacheï¼š
```ini
opcache.enable=1
opcache.memory_consumption=128
```

2. ä½¿ç”¨ Redis ç¼“å­˜ï¼š
```env
CACHE_DRIVER=redis
SESSION_DRIVER=redis
```

3. ä¼˜åŒ– Composer è‡ªåŠ¨åŠ è½½ï¼š
```bash
composer dump-autoload --optimize
```

4. å¼€å¯ Gzip å‹ç¼©ï¼ˆNginxï¼‰ï¼š
```nginx
gzip on;
gzip_types text/plain text/css application/json application/javascript;
```

### Q14: æ•°æ®åº“æŸ¥è¯¢æ…¢ï¼Ÿ

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š

1. æ·»åŠ ç´¢å¼•ï¼š
```sql
-- è®¢å•è¡¨
ALTER TABLE orders ADD INDEX idx_order_sn (order_sn);
ALTER TABLE orders ADD INDEX idx_email (email);

-- å¡å¯†è¡¨
ALTER TABLE carmis ADD INDEX idx_goods_id (goods_id);
```

2. å®šæœŸæ¸…ç†è¿‡æœŸè®¢å•ï¼š
```sql
DELETE FROM orders WHERE status = -1 AND created_at < DATE_SUB(NOW(), INTERVAL 30 DAY);
```

3. ä¼˜åŒ–æ•°æ®åº“é…ç½®ï¼š
```ini
innodb_buffer_pool_size = 256M
query_cache_size = 64M
```

## å‡çº§æ›´æ–°

### Q15: å¦‚ä½•å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Ÿ

**å¤‡ä»½æ•°æ®**ï¼š
```bash
# å¤‡ä»½æ•°æ®åº“
mysqldump -u root -p dujiaoka > backup_$(date +%Y%m%d).sql

# å¤‡ä»½æ–‡ä»¶
tar -czf dujiaoka_backup_$(date +%Y%m%d).tar.gz /www/wwwroot/dujiaoka
```

**å‡çº§æ­¥éª¤**ï¼š
```bash
cd /www/wwwroot/dujiaoka

# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# æ›´æ–°ä¾èµ–
composer install

# æ‰§è¡Œå‡çº§è„šæœ¬ï¼ˆå¦‚æœ‰ï¼‰
mysql -u root -p dujiaoka < database/sql/upgrade_xxx.sql

# æ¸…ç†ç¼“å­˜
php artisan config:clear
php artisan cache:clear
php artisan view:clear
```

### Q16: å‡çº§åå‡ºç°é”™è¯¯ï¼Ÿ

**å›æ»šæ–¹æ¡ˆ**ï¼š

1. æ¢å¤æ•°æ®åº“ï¼š
```bash
mysql -u root -p dujiaoka < backup_20241207.sql
```

2. æ¢å¤æ–‡ä»¶ï¼š
```bash
tar -xzf dujiaoka_backup_20241207.tar.gz -C /
```

3. æ¸…ç†ç¼“å­˜ï¼š
```bash
php artisan config:clear
php artisan cache:clear
```

## å…¶ä»–é—®é¢˜

### Q17: å¦‚ä½•æ›´æ¢åŸŸåï¼Ÿ

**æ­¥éª¤**ï¼š

1. ä¿®æ”¹ `.env`ï¼š
```env
APP_URL=https://æ–°åŸŸå.com
```

2. ä¿®æ”¹æ•°æ®åº“ï¼ˆå¦‚æœ‰ç¡¬ç¼–ç ï¼‰ï¼š
```sql
UPDATE admin_settings SET value = REPLACE(value, 'æ—§åŸŸå', 'æ–°åŸŸå');
```

3. æ¸…ç†ç¼“å­˜ï¼š
```bash
php artisan config:clear
php artisan cache:clear
```

4. æ›´æ–° SSL è¯ä¹¦

### Q18: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ

**è‡ªåŠ¨å¤‡ä»½è„šæœ¬**ï¼š

åˆ›å»º `backup.sh`ï¼š
```bash
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/www/backup/dujiaoka"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# å¤‡ä»½æ•°æ®åº“
mysqldump -u root -på¯†ç  dujiaoka > $BACKUP_DIR/db_$DATE.sql

# å¤‡ä»½æ–‡ä»¶
tar -czf $BACKUP_DIR/files_$DATE.tar.gz /www/wwwroot/dujiaoka/storage/app

# åˆ é™¤30å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "*.sql" -mtime +30 -delete
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete
```

æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©å‡Œæ™¨3ç‚¹ï¼‰ï¼š
```bash
0 3 * * * /www/backup/backup.sh
```

### Q19: å¦‚ä½•è¿ç§»åˆ°æ–°æœåŠ¡å™¨ï¼Ÿ

**æ­¥éª¤**ï¼š

1. åœ¨æ–°æœåŠ¡å™¨å®‰è£…ç¯å¢ƒ
2. å¯¼å‡ºæ—§æœåŠ¡å™¨æ•°æ®ï¼š
```bash
mysqldump -u root -p dujiaoka > dujiaoka.sql
tar -czf storage.tar.gz storage/app
```

3. ä¼ è¾“åˆ°æ–°æœåŠ¡å™¨ï¼š
```bash
scp dujiaoka.sql root@æ–°æœåŠ¡å™¨IP:/tmp/
scp storage.tar.gz root@æ–°æœåŠ¡å™¨IP:/tmp/
```

4. åœ¨æ–°æœåŠ¡å™¨å¯¼å…¥ï¼š
```bash
mysql -u root -p dujiaoka < /tmp/dujiaoka.sql
tar -xzf /tmp/storage.tar.gz -C /www/wwwroot/dujiaoka/
```

5. ä¿®æ”¹ `.env` é…ç½®
6. æ¸…ç†ç¼“å­˜

### Q20: PHP ç»ˆç«¯ç¯å¢ƒå¯¹åº”ä¸ä¸Šï¼Ÿ

**é—®é¢˜**ï¼šæ‰§è¡Œ `php artisan` å‘½ä»¤æ—¶ç‰ˆæœ¬ä¸å¯¹

**è§£å†³æ–¹æ¡ˆ**ï¼ˆå®å¡”é¢æ¿ï¼‰ï¼š

```bash
# å°†å®å¡” PHP ç‰ˆæœ¬è®¾ç½®ä¸ºç³»ç»Ÿ php-cli ç‰ˆæœ¬
ln -sf /www/server/php/74/bin/php /usr/bin/php
```

âš ï¸ æ ¹æ®è‡ªå·±å®å¡”å®‰è£…çš„ PHP ç‰ˆæœ¬ä¿®æ”¹ï¼š
- PHP 7.2: `/www/server/php/72/bin/php`
- PHP 7.4: `/www/server/php/74/bin/php`
- PHP 8.0: `/www/server/php/80/bin/php`

éªŒè¯ï¼š
```bash
php -v
```

### Q21: åå°ç™»å½•å‡ºç° 0 errï¼Ÿ

**åŸå› **ï¼šå¼€å¯äº† HTTPS ä½†åå°é…ç½®æœªåŒæ­¥

**è§£å†³æ–¹æ¡ˆ**ï¼š

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œæ·»åŠ æˆ–ä¿®æ”¹ï¼š
```env
ADMIN_HTTPS=true
```

æ¸…ç†ç¼“å­˜ï¼š
```bash
php artisan config:clear
php artisan cache:clear
```

**åŸåˆ™**ï¼šåªè¦å¼€å¯äº† HTTPS è®¿é—®ï¼Œåå°ä¹Ÿè¦å¼€å¯ HTTPSï¼

### Q22: åå°æ“ä½œæäº¤å‡ºç° 500 é”™è¯¯ï¼Ÿ

**åŸå› **ï¼šè¢«å®å¡”é˜²ç«å¢™æˆ– CDN é˜²ç«å¢™æ‹¦æˆª

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. æ£€æŸ¥å®å¡”é˜²ç«å¢™æ—¥å¿—ï¼š
   - å®‰å…¨ â†’ æ—¥å¿—
   - æŸ¥æ‰¾æ‹¦æˆªè®°å½•

2. æ”¾è¡Œåå°è·¯å¾„ï¼š
   - å®‰å…¨ â†’ ç½‘ç«™é˜²ç«å¢™
   - æ·»åŠ ç™½åå•è§„åˆ™
   - æ”¾è¡Œ `/admin/*` æˆ–ä½ çš„è‡ªå®šä¹‰åå°è·¯å¾„

3. æ£€æŸ¥ CDN é˜²ç«å¢™ï¼ˆå¦‚ä½¿ç”¨ï¼‰

### Q23: ä¸Šä¼ å›¾ç‰‡ä¸æ˜¾ç¤ºæˆ–æ˜¾ç¤ºé”™è¯¯ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```env
APP_URL=https://ä½ çš„åŸŸå.com
```

ç¡®ä¿ï¼š
- åŸŸåæ­£ç¡®ï¼ˆåŒ…å« http:// æˆ– https://ï¼‰
- æ²¡æœ‰å¤šä½™çš„æ–œæ 
- ä¸å®é™…è®¿é—®åœ°å€ä¸€è‡´

æ¸…ç†ç¼“å­˜ï¼š
```bash
php artisan config:clear
```

### Q24: é‚®ä»¶é…ç½®ä¿®æ”¹åä¸ç”Ÿæ•ˆï¼Ÿ

**åŸå› **ï¼šé˜Ÿåˆ—è¿›ç¨‹æœªé‡å¯

**è§£å†³æ–¹æ¡ˆ**ï¼š

**å®å¡”é¢æ¿ + Supervisor**ï¼š
```bash
supervisorctl restart dujiaoka-queue:*
```

**å®å¡”åº”ç”¨ç®¡ç†å™¨**ï¼š
- è½¯ä»¶å•†åº— â†’ Supervisor
- æ‰¾åˆ°é˜Ÿåˆ—è¿›ç¨‹
- ç‚¹å‡»é‡å¯

**æ‰‹åŠ¨é‡å¯**ï¼š
```bash
# åœæ­¢æ—§è¿›ç¨‹
ps aux | grep queue:work
kill -9 è¿›ç¨‹ID

# å¯åŠ¨æ–°è¿›ç¨‹
cd /www/wwwroot/dujiaoka
php artisan queue:work --daemon
```

### Q25: æ˜“æ”¯ä»˜é…ç½®é—®é¢˜ï¼Ÿ

**é…ç½®æ–¹æ³•**ï¼ˆv1.8.2+ï¼‰ï¼š

åå° â†’ æ”¯ä»˜é…ç½® â†’ æ˜“æ”¯ä»˜ï¼š
```
å•†æˆ·ID: ä½ çš„æ˜“æ”¯ä»˜å•†æˆ·å·
å•†æˆ·Key: æ˜“æ”¯ä»˜è¯·æ±‚ç½‘å€ï¼ˆå®Œæ•´URLï¼‰
å•†æˆ·å¯†é’¥: ä½ çš„æ˜“æ”¯ä»˜å¯†é’¥
```

**å•†æˆ·Key å¡«å†™ç¤ºä¾‹**ï¼š
```
http://ä½ çš„æ˜“æ”¯ä»˜åŸŸå.com/submit.php
```

âš ï¸ æ³¨æ„ï¼š
- å¿…é¡»åŠ  `/submit.php`
- å®Œæ•´çš„ URL åœ°å€
- å‚è€ƒä½ çš„æ˜“æ”¯ä»˜æ–‡æ¡£

**æ—§ç‰ˆæœ¬ï¼ˆv1.8.2ä¹‹å‰ï¼‰**ï¼š

éœ€è¦ä¿®æ”¹ä»£ç æ–‡ä»¶ `app/Http/Controllers/Pay/YipayController.php`ï¼š

```php
// ç¬¬11è¡Œ
const PAY_URI = 'http://ä½ çš„æ˜“æ”¯ä»˜åŸŸå.com/submit.php';
```

### Q26: å¼ºåˆ¶ HTTPS åæŠ¥é”™ï¼Ÿ

**é”™è¯¯ä¿¡æ¯**ï¼š
```
The GET method is not supported for this route. Supported methods: POST
```

**è§£å†³æ–¹æ¡ˆ**ï¼š

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```env
ADMIN_HTTPS=true
```

å¦‚æœä½¿ç”¨ Nginx å¼ºåˆ¶ HTTPSï¼Œé…ç½®ç¤ºä¾‹ï¼š
```nginx
server {
    listen 80;
    server_name yourdomain.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name yourdomain.com;
    
    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;
    
    # ... å…¶ä»–é…ç½®
}
```

### Q27: å¦‚ä½•æ›´æ¢å‰ç«¯æ¨¡æ¿ï¼Ÿ

**å¯ç”¨æ¨¡æ¿**ï¼š
- `unicorn` - å®˜æ–¹é»˜è®¤æ¨¡æ¿
- `luna` - ç®€æ´é£æ ¼ï¼ˆ@Julyssn è´¡çŒ®ï¼‰
- `hyper` - ç°ä»£é£æ ¼ï¼ˆ@bimoe è´¡çŒ®ï¼‰

**æ›´æ¢æ–¹æ³•**ï¼š

åå° â†’ é…ç½® â†’ ç³»ç»Ÿè®¾ç½® â†’ åŸºç¡€è®¾ç½®ï¼š
```
å‰ç«¯æ¨¡æ¿: é€‰æ‹©æ¨¡æ¿åç§°
```

ä¿å­˜åæ¸…ç†ç¼“å­˜ï¼š
```bash
php artisan view:clear
php artisan cache:clear
```

### Q28: å„æ”¯ä»˜æ¥å£é…ç½®å¯¹ç…§è¡¨

| æ”¯ä»˜æ–¹å¼ | å•†æˆ·ID | å•†æˆ·Key | å•†æˆ·å¯†é’¥ | å¤‡æ³¨ |
|---------|--------|---------|---------|------|
| **æ”¯ä»˜å®å®˜æ–¹** | åº”ç”¨APPID | æ”¯ä»˜å®å…¬é’¥ | å•†æˆ·ç§é’¥ | å½“é¢ä»˜/PC/WAP |
| **å¾®ä¿¡å®˜æ–¹** | å…¬ä¼—å·/å°ç¨‹åºAPPID | å•†æˆ·å· | å•†æˆ·APIå¯†é’¥ | - |
| **PayJS** | å•†æˆ·å·(mchid) | ç©º | PayJSå¯†é’¥ | - |
| **ç æ”¯ä»˜** | å•†æˆ·å· | æ”¯ä»˜è¯·æ±‚ç½‘å€ | å¯†é’¥ | å°†æ¥å£ç½‘å€å¡«å…¥å•†æˆ·Key |
| **Paysapi** | å•†æˆ·å· | ç©º | å¯†é’¥ | - |
| **æ˜“æ”¯ä»˜** | å•†æˆ·å· | è¯·æ±‚ç½‘å€ | å¯†é’¥ | ç½‘å€ååŠ /submit.php |
| **Vå…ç­¾** | é€šè®¯å¯†é’¥ | ç©º | Vå…ç­¾åœ°å€ | - |
| **PayPal** | å•†å®¶é‚®ç®± | Client ID | Secret | - |
| **Epusdt** | APIè®¤è¯token | ç©º | æ”¶é“¶å°åœ°å€ | åœ°å€+/api/v1/order/create-transaction |

**Epusdt ç‰¹åˆ«è¯´æ˜**ï¼š
- å¦‚æœç‹¬è§’æ•°å¡å’Œ Epusdt åœ¨åŒä¸€æœåŠ¡å™¨
- ä½¿ç”¨ `127.0.0.1` è€Œä¸æ˜¯åŸŸå
- ç¤ºä¾‹ï¼š`http://127.0.0.1:8000/api/v1/order/create-transaction`

### Q29: å¦‚ä½•è”ç³»æŠ€æœ¯æ”¯æŒï¼Ÿ

**æœ¬é¡¹ç›®æ”¯æŒ**ï¼š
- Telegram: https://t.me/luoyanglang
- GitHub Issues: https://github.com/luoyanglang/dujiaoka/issues

**åŸä½œè€…èµ„æº**ï¼š
- åŸä½œè€… Telegram: https://t.me/dujiaoka
- åŸé¡¹ç›® GitHub: https://github.com/assimon/dujiaoka

**æ³¨æ„**ï¼š
- âŒ è­¦æƒ•å†’å……è¯ˆéª—
- âœ… æœ¬é¡¹ç›®ç»´æŠ¤è€… Telegram: @luoyanglang

---

**æ²¡æ‰¾åˆ°ç­”æ¡ˆï¼Ÿ**
- æŸ¥çœ‹ [å®Œæ•´æ–‡æ¡£](README.md)
- åŠ å…¥ç¤¾åŒºæé—®
- æäº¤ GitHub Issue
