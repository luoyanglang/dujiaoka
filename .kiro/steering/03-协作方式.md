---
inclusion: always
---

# 协作方式

## 👤 角色分工

### 你（用户）
- ✅ 执行命令
- ✅ 返回结果
- ✅ 测试功能
- ✅ 反馈问题

### Kiro（我）
- ✅ 修复代码（本地）
- ✅ 更新文档（不新建）
- ✅ 提供命令（完整可执行）
- ❌ 不建服务器脚本
- ❌ 不建部署说明文档

## 📝 命令格式要求

### 1. 优先一条命令
```powershell
# 好的示例 - 一条命令完成
cd H:\code2\xiaoyu-ai && scp -i C:\Users\Administrator\.ssh\id_rsa -P 1991 main_refactored.py ubuntu@129.204.199.8:/tmp/ && ssh -i C:\Users\Administrator\.ssh\id_rsa -p 1991 ubuntu@129.204.199.8 "sudo docker cp /tmp/main_refactored.py xiaoyu-memory-api:/app/ && sudo docker restart xiaoyu-memory-api"
```

### 2. 实在不行才分步
```powershell
# 步骤1：上传文件示例
cd H:\code2\xiaoyu-ai
scp -i C:\Users\Administrator\.ssh\id_rsa -P 1991 database_async.py ubuntu@129.204.199.8:/tmp/

# 步骤2：复制到容器并重启
ssh -i C:\Users\Administrator\.ssh\id_rsa -p 1991 ubuntu@129.204.199.8 "sudo docker cp /tmp/database_async.py xiaoyu-memory-api:/app/ && sudo docker restart xiaoyu-memory-api"
```

### 3. 必须包含的元素
- ✅ 命令类型标注（PowerShell/CMD/SSH）
- ✅ cd 到项目根目录
- ✅ 完整路径
- ✅ 可直接复制执行

## 💬 沟通方式

### 建议和意见
- ✅ **直接提** - 不要建文档
- ✅ **简短说** - 不要长篇大论
- ❓ **不确定的询问** - 是否需要

### 标准对话

#### 你说
```
开发 XXX 功能
```

#### Kiro 回复
```
已修复，执行命令：
[完整命令]
```

#### 你反馈
```
已执行，成功/失败
[错误信息]
```

#### Kiro 处理
- 成功：主动询问"是否需要更新文档？是否需要提交到 GitHub？"
- 失败：继续修复，给新命令

#### 触发更新的话术
当你说以下话术时，Kiro 会主动询问：
- "测试没问题"
- "可以了"
- "没问题"
- "通过了"
- "成功了"
- 或其他表示测试通过的话

## 🚫 禁止事项

### Kiro 不要做
- ❌ 创建服务器部署脚本
- ❌ 创建部署说明文档
- ❌ 创建总结文档
- ❌ 给多条可以合并的命令
- ❌ 长篇大论的建议

### 只做这些
- ✅ 修复本地代码
- ✅ 更新现有文档
- ✅ 给完整可执行命令
- ✅ 简短说明问题

## 📋 工作流程

```
1. 你提需求
   ↓
2. Kiro 修复代码
   ↓
3. Kiro 给命令（一条或分步）
   ↓
4. 你执行命令
   ↓
5. 你返回结果
   ↓
6. 成功 → 你说"测试没问题/可以了" 
   ↓
7. Kiro 主动询问：
   - 是否需要更新文档？
   - 是否需要提交到 GitHub？
   ↓
8. 你确认 → Kiro 更新文档 → 完成
   
   失败 → 回到步骤2
```

## 🎯 效率原则

1. **快速迭代** - 不要等 Git
2. **命令优先** - 不要文档
3. **结果导向** - 能用就行
4. **简洁沟通** - 少说废话
